(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[861],{9296:function(t,n,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/users/login",function(){return e(303)}])},303:function(t,n,e){"use strict";e.r(n),e.d(n,{default:function(){return T}});var r=e(5893),i=e(7294);function o(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function a(t){var n=function(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{},r=Object.keys(e);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(e).filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})))),r.forEach((function(n){o(t,n,e[n])}))}return t}({display:"flex",justifyContent:"center",alignItems:"center"},t.style);return(0,r.jsx)("div",{style:n,children:t.children})}function s(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function c(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{},r=Object.keys(e);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(e).filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})))),r.forEach((function(n){s(t,n,e[n])}))}return t}function l(t){var n={backgroundColor:"white",width:"100%",padding:"30px",borderRadius:"18px",boxShadow:"0 0 5px rgba(0,0,0,0.3)"};switch(t.variant){case"main":n=c({},n,{width:"400px",maxWidth:"70vw",marginTop:"20px"})}return n=c({},n,t.style),(0,r.jsx)("div",{style:n,children:t.children})}var u=e(8862),d=e(3741),f=e(5398),h=e(9469),p=e(2961),x=e(2450),m=e(3946),y=e(7109),g=e(3321),j=e(8456),v=e(8262);function b(t){return(0,r.jsx)(v.Z,{open:t.isloading,children:(0,r.jsx)(a,{style:{padding:"30px",paddingTop:"20px",minWidth:"200px",maxWidth:"60vw"},children:(0,r.jsxs)("div",{children:[t.title?(0,r.jsx)(a,{style:{marginBottom:"10px",fontSize:"15px",fontWeight:600},children:t.title}):"",(0,r.jsx)(a,{style:{padding:"10px"},children:(0,r.jsx)(j.Z,{})})]})})})}var w=e(6798),O=e(1737),S=e(9669),P=e.n(S);function Z(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var e=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(e.push(a.value),!n||e.length!==n);r=!0);}catch(c){i=!0,o=c}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return e}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var k="https://uihrms.icitifysolution.com";function E(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}var _=i.forwardRef((function(t,n){return(0,r.jsx)(O.Z,function(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{},r=Object.keys(e);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(e).filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})))),r.forEach((function(n){E(t,n,e[n])}))}return t}({elevation:6,ref:n,variant:"filled"},t))})),T=function(){var t=(0,i.useState)(!1),n=t[0],e=t[1],o=(0,i.useState)(!1),s=o[0],c=(o[1],(0,i.useState)("")),j=c[0],v=(c[1],(0,i.useState)(!1)),O=v[0],S=v[1],E=(0,i.useState)((0,r.jsx)("div",{})),T=E[0],C=E[1],W=(0,i.useState)("success"),A=W[0],D=W[1],I=(0,i.useState)(!1),N=I[0],B=I[1],z=function(t){B(!0);var n=new FormData(document.getElementById("login-form"));(function(t,n){var e=void 0===n?{}:n,r=new FormData,i=!0,o=!1,a=void 0;try{for(var s,c=Object.entries(e)[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var l=Z(s.value,2),u=l[0],d=l[1];r.append(u,d)}}catch(f){o=!0,a=f}finally{try{i||null==c.return||c.return()}finally{if(o)throw a}}return P()({method:"POST",url:t,headers:{"content-Type":"multipart/form-data"},data:r})})("".concat(k,"/api/login"),{username:n.get("username"),password:n.get("password")}).then((function(t){var n=t.data;S(!0),n.success?(D("success"),C((0,r.jsx)("div",{children:"Login successful"})),window.location.href=k):(D("error"),C((0,r.jsx)("div",{children:n.message})),B(!1))}))};return(0,i.useEffect)((function(){document.onkeydown=function(t){"Enter"==t.key&&z()}}),[]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a,{style:{minHeight:"90vh"},children:(0,r.jsxs)(l,{style:{width:"250px",maxWidth:"80vw"},children:[(0,r.jsx)(a,{style:{marginBottom:"10px"},children:(0,r.jsx)("img",{alt:"Origanization Logo",src:"https://uihrms.icitifysolution.com/assets/images/ui-logo.jfif",style:{height:"100px"}})}),(0,r.jsx)(a,{children:(0,r.jsx)(u.Z,{variant:"h6",textAlign:"center",style:{marginBottom:"5px",maxWidth:"250px"},children:"Human Resources Management System"})}),(0,r.jsx)(a,{children:(0,r.jsx)(u.Z,{variant:"body1",sx:{fontWeight:500},children:"University of Ibadan"})}),(0,r.jsxs)("form",{style:{width:"100%"},id:"login-form",children:[(0,r.jsx)(d.Z,{variant:"standard",label:"Username",name:"username",InputProps:{startAdornment:(0,r.jsx)(y.Z,{position:"start",children:(0,r.jsx)(f.Z,{color:"action"})})},sx:{width:"100%",marginTop:"30px"}}),(0,r.jsx)(d.Z,{variant:"standard",label:"Password",type:n?"text":"password",name:"password",InputProps:{startAdornment:(0,r.jsx)(y.Z,{position:"start",children:(0,r.jsx)(h.Z,{color:"action"})}),endAdornment:(0,r.jsx)(y.Z,{position:"end",children:(0,r.jsx)(m.Z,{onClick:function(t){e(!n)},children:n?(0,r.jsx)(x.Z,{color:"action"}):(0,r.jsx)(p.Z,{color:"action"})})})},sx:{width:"100%",marginTop:"30px"}}),(0,r.jsx)(a,{style:{marginTop:"30px"},children:(0,r.jsx)(g.Z,{variant:"contained",onClick:z,disabled:N,children:"Login"})})]})]})}),(0,r.jsx)(b,{isloading:s,title:j}),(0,r.jsx)(w.Z,{open:O,autoHideDuration:6e3,onClose:function(t){S(!1)},anchorOrigin:{vertical:"bottom",horizontal:"center"},children:(0,r.jsx)(_,{onClose:function(t){S(!1)},severity:A,sx:{width:"100%"},children:T})})]})}}},function(t){t.O(0,[788,774,888,179],(function(){return n=9296,t(t.s=n);var n}));var n=t.O();_N_E=n}]);