(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[861],{9296:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/users/login",function(){return n(303)}])},303:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return _}});var r=n(5893),i=n(7294);function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t){var e=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){o(t,e,n[e])}))}return t}({display:"flex",justifyContent:"center",alignItems:"center"},t.style);return(0,r.jsx)("div",{style:e,children:t.children})}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){s(t,e,n[e])}))}return t}function l(t){var e={backgroundColor:"white",width:"100%",padding:"30px",borderRadius:"18px",boxShadow:"0 0 5px rgba(0,0,0,0.3)"};switch(t.variant){case"main":e=c({},e,{width:"400px",maxWidth:"70vw",marginTop:"20px"})}return e=c({},e,t.style),(0,r.jsx)("div",{style:e,children:t.children})}var u=n(8862),d=n(3741),f=n(5398),p=n(9469),h=n(2961),x=n(2450),m=n(3946),y=n(7109),g=n(3321),j=n(8456),v=n(8262);function b(t){return(0,r.jsx)(v.Z,{open:t.isloading,children:(0,r.jsx)(a,{style:{padding:"30px",paddingTop:"20px",minWidth:"200px",maxWidth:"60vw"},children:(0,r.jsxs)("div",{children:[t.title?(0,r.jsx)(a,{style:{marginBottom:"10px",fontSize:"15px",fontWeight:600},children:t.title}):"",(0,r.jsx)(a,{style:{padding:"10px"},children:(0,r.jsx)(j.Z,{})})]})})})}var w=n(6798),O=n(1737),S=n(9669),P=n.n(S);function Z(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(c){i=!0,o=c}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function k(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var E=i.forwardRef((function(t,e){return(0,r.jsx)(O.Z,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){k(t,e,n[e])}))}return t}({elevation:6,ref:e,variant:"filled"},t))})),_=function(){var t=(0,i.useState)(!1),e=t[0],n=t[1],o=(0,i.useState)(!1),s=o[0],c=(o[1],(0,i.useState)("")),j=c[0],v=(c[1],(0,i.useState)(!1)),O=v[0],S=v[1],k=(0,i.useState)((0,r.jsx)("div",{})),_=k[0],T=k[1],C=(0,i.useState)("success"),W=C[0],A=C[1],D=(0,i.useState)(!1),I=D[0],N=D[1],B=function(t){N(!0);var e=new FormData(document.getElementById("login-form"));(function(t,e){var n=void 0===e?{}:e,r=new FormData,i=!0,o=!1,a=void 0;try{for(var s,c=Object.entries(n)[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var l=Z(s.value,2),u=l[0],d=l[1];r.append(u,d)}}catch(f){o=!0,a=f}finally{try{i||null==c.return||c.return()}finally{if(o)throw a}}return P()({method:"POST",url:t,headers:{"content-Type":"multipart/form-data"},data:r})})("".concat(portalUrl,"/api/login"),{username:e.get("username"),password:e.get("password")}).then((function(t){var e=t.data;S(!0),e.success?(A("success"),T((0,r.jsx)("div",{children:"Login successful"})),window.location.href=portalUrl):(A("error"),T((0,r.jsx)("div",{children:e.message})),N(!1))}))};return(0,i.useEffect)((function(){document.onkeydown=function(t){"Enter"==t.key&&B()}}),[]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a,{style:{minHeight:"90vh"},children:(0,r.jsxs)(l,{style:{width:"250px",maxWidth:"80vw"},children:[(0,r.jsx)(a,{style:{marginBottom:"10px"},children:(0,r.jsx)("img",{alt:"Origanization Logo",src:"https://uihrms.icitifysolution.com/assets/images/ui-logo.jfif",style:{height:"100px"}})}),(0,r.jsx)(a,{children:(0,r.jsx)(u.Z,{variant:"h6",textAlign:"center",style:{marginBottom:"5px",maxWidth:"250px"},children:"Human Resources Management System"})}),(0,r.jsx)(a,{children:(0,r.jsx)(u.Z,{variant:"body1",sx:{fontWeight:500},children:"University of Ibadan"})}),(0,r.jsxs)("form",{style:{width:"100%"},id:"login-form",children:[(0,r.jsx)(d.Z,{variant:"standard",label:"Username",name:"username",InputProps:{startAdornment:(0,r.jsx)(y.Z,{position:"start",children:(0,r.jsx)(f.Z,{color:"action"})})},sx:{width:"100%",marginTop:"30px"}}),(0,r.jsx)(d.Z,{variant:"standard",label:"Password",type:e?"text":"password",name:"password",InputProps:{startAdornment:(0,r.jsx)(y.Z,{position:"start",children:(0,r.jsx)(p.Z,{color:"action"})}),endAdornment:(0,r.jsx)(y.Z,{position:"end",children:(0,r.jsx)(m.Z,{onClick:function(t){n(!e)},children:e?(0,r.jsx)(x.Z,{color:"action"}):(0,r.jsx)(h.Z,{color:"action"})})})},sx:{width:"100%",marginTop:"30px"}}),(0,r.jsx)(a,{style:{marginTop:"30px"},children:(0,r.jsx)(g.Z,{variant:"contained",onClick:B,disabled:I,children:"Login"})})]})]})}),(0,r.jsx)(b,{isloading:s,title:j}),(0,r.jsx)(w.Z,{open:O,autoHideDuration:6e3,onClose:function(t){S(!1)},anchorOrigin:{vertical:"bottom",horizontal:"center"},children:(0,r.jsx)(E,{onClose:function(t){S(!1)},severity:W,sx:{width:"100%"},children:_})})]})}}},function(t){t.O(0,[788,774,888,179],(function(){return e=9296,t(t.s=e);var e}));var e=t.O();_N_E=e}]);